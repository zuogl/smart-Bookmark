产品需求文档（PRD）

项目名称

智能书签助手（Smart Bookmark Assistant）

版本

1.0

撰写人

[左同学]

撰写日期

2024年12月13日

一、背景与目标

1. 背景

随着用户在浏览器中保存的书签数量增加，传统书签管理方式（如分类文件夹）已无法满足高效管理和快速检索的需求。此外，人工整理书签和查找内容耗时耗力，用户迫切需要一种智能化的解决方案。

2. 产品目标

开发一款结合 AI 技术的智能书签管理插件，帮助用户高效整理和检索书签，提升浏览器使用体验。

二、用户需求

1. 核心用户
	•	高频书签用户：开发者、研究人员、内容创作者等。
	•	普通用户：希望快速查找和管理书签但缺乏时间或技巧。

2. 用户痛点
	•	无法快速找到目标书签，尤其是在书签数量庞大的情况下。
	•	手动分类和整理书签耗时。
	•	缺乏强大的搜索功能，难以利用模糊关键字定位书签。

3. 用户需求清单
	•	书签导入：首次安装时，能够自动导入现有书签并打标签。
	•	实时监听：用户新增书签后，能自动生成对应的标签。
	•	快捷搜索：通过全局快捷键唤起搜索框，基于模糊关键字快速匹配书签。
	•	自定义设置：允许用户配置 AI 服务的 API 密钥或选择插件订阅。

三、产品功能需求

1. 功能总览

功能模块	功能描述	优先级
书签导入功能	插件首次安装时，询问用户是否导入现有书签并进行智能标签生成。	高
书签实时监听	用户新增书签时，插件自动提取书签信息（如标题、URL）并调用 AI 大模型生成关键字并打标签。	高
快捷搜索功能	用户按下全局快捷键时唤起搜索框，输入模糊关键字后，匹配标签并展示相关书签的列表。	高
设置页面	提供用户自定义配置，如输入 AI API 密钥、查看订阅状态、重置插件设置等。	高
标签管理功能	支持用户手动编辑书签的标签。	中
订阅功能	提供订阅入口，用户可以选择使用插件自带的大模型服务，并完成支付和订阅管理。	中

2. 功能细节

2.1 书签导入功能
	•	触发条件：插件首次安装后触发。
	•	用户流程：
	1.	弹出提示窗口，询问用户是否导入现有书签。
	2.	若用户选择“是”，插件调用 chrome.bookmarks.getTree() 获取书签数据。
	3.	将书签数据发送至 AI 接口，生成关键字并打标签。
	4.	标签和书签的映射关系存储至 chrome.storage.local。
	•	边界情况：
	•	若书签数量过多，需分批处理避免性能问题。
	•	对未能生成关键字的书签，默认打“未分类”标签。

2.2 书签实时监听
	•	触发条件：用户新增书签时触发。
	•	用户流程：
	1.	监听 chrome.bookmarks.onCreated 事件。
	2.	获取新增书签的标题和 URL。
	3.	调用 AI 接口生成关键字并打标签。
	4.	更新 chrome.storage.local 中的标签数据。
	•	边界情况：
	•	对没有内容的书签（如空的文件夹）不生成标签。
	•	若 AI 接口调用失败，提示用户稍后重试。

2.3 快捷搜索功能
	•	触发条件：用户按下全局快捷键（如 Ctrl+Shift+L）。
	•	用户流程：
	1.	弹出一个搜索框。
	2.	用户输入模糊关键字，插件根据 chrome.storage.local 中的标签进行匹配。
	3.	展示匹配书签的列表，支持点击跳转至对应页面。
	•	边界情况：
	•	如果无匹配结果，显示“未找到相关书签”提示。
	•	支持模糊匹配，输入部分关键字即可返回结果。

2.4 设置页面
	•	功能描述：提供用户配置插件的界面，支持以下功能：
	•	配置 API 密钥：输入用户自备的 AI 服务密钥。
	•	订阅状态查看：显示用户的订阅状态（未订阅/已订阅）。
	•	重置设置：清空存储数据，恢复至默认状态。

2.5 订阅功能
	•	功能描述：允许用户购买插件的高级服务，使用内置的大模型接口。
	•	用户流程：
	1.	点击“订阅”按钮，跳转至支付页面（如 Stripe 支付网关）。
	2.	完成支付后返回插件设置页面，更新订阅状态。
	•	边界情况：
	•	若支付失败，提示用户重试。
	•	支持取消订阅，并相应调整插件权限。

四、交互设计

1. 信息架构
	•	插件包括以下页面：
	1.	主页面：实现搜索功能。
	2.	设置页面：配置 API 密钥和订阅状态。
	3.	弹窗页面：用于显示搜索结果。

2. 用户界面
	1.	设置页面
	•	提供简洁明了的输入框和按钮。
	•	关键功能（如 API 配置、订阅状态）突出展示。
	2.	搜索框
	•	小型弹窗设计，输入区域居中，搜索结果列表清晰排列。
	•	匹配关键词高亮显示。

五、技术实现

1. 核心技术栈
	•	前端：HTML5、CSS3、JavaScript。
	•	浏览器插件 API：chrome.bookmarks、chrome.commands、chrome.storage。
	•	AI 服务：调用 OpenAI API 或其他大模型服务。

2. 系统架构
	1.	前端：
	•	实现书签展示、搜索和标签管理界面。
	2.	后台：
	•	处理书签监听和 AI 接口调用逻辑。
	3.	存储：
	•	使用 chrome.storage.local 存储标签和书签映射。

六、风险分析

风险点	风险等级	应对措施
AI 调用成本	高	支持用户自备 API 密钥，减少插件对内置服务的依赖。
网络连接不稳定	中	提供离线模式，支持手动管理标签。
用户隐私问题	高	提醒用户插件仅调用公开数据，不上传敏感信息。
订阅功能的法律合规	中	确保支付网关符合国际支付合规标准，声明退款政策。

七、上线计划

1. 开发阶段
	•	功能开发：预计 4 周。
	•	测试：预计 2 周。

2. 上线渠道
	•	Google Chrome Web Store。
	•	官方推广页面。

3. 推广策略
	•	免费提供基础功能，吸引用户安装。
	•	推广至开发者社区、效率工具用户群体。

八、附录

API 调用示例

const prompt = `以下是网页的主要内容，请提取关键字：
标题：${title}
描述：${description}
正文内容：${content}`;
const response = await fetch('https://api.openai.com/v1/completions', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${apiKey}`,
    },
    body: JSON.stringify({
        model: 'gpt-4',
        prompt,
        max_tokens: 50,
    }),
});

如需调整，请随时提出！


v1.0
基础功能实现
v1.2.0
加了图标
v1.2.1
优化prompt